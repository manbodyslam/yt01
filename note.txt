# 2025-11-13 [LATEST] ‚Äî YouTube Thumbnail Generator - ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÅ‡∏•‡∏∞‡πÅ‡∏ú‡∏ô‡∏á‡∏≤‡∏ô

## üéØ ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î: Smart Layout Fallback (13 ‡∏û.‡∏¢. 2568 - 10:30)

### ‚úÖ ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô 100% ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à - ‡πÑ‡∏°‡πà‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß‡∏≠‡∏µ‡∏Å‡∏ï‡πà‡∏≠‡πÑ‡∏õ! üéâ

**‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÄ‡∏î‡∏¥‡∏°**:
- ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ 3 ‡∏Ñ‡∏ô ‡πÅ‡∏ï‡πà‡πÄ‡∏à‡∏≠‡πÅ‡∏Ñ‡πà 2 ‡∏Ñ‡∏ô ‚Üí ‡∏£‡∏∞‡∏ö‡∏ö‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß ‚ùå
- Retry ‡∏´‡∏•‡∏≤‡∏¢‡∏£‡∏≠‡∏ö‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏à‡∏≠‡∏Ñ‡∏ô‡πÉ‡∏´‡∏°‡πà ‚Üí ‡πÄ‡∏™‡∏µ‡∏¢‡πÄ‡∏ß‡∏•‡∏≤
- ‡πÉ‡∏ä‡πâ `allow_duplicates=True` ‚Üí ‡∏î‡∏π‡πÅ‡∏õ‡∏•‡∏Å ‡πÑ‡∏°‡πà‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏°

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ (Smart Layout Fallback)**:
1. ‚úÖ **Retry 1 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á**: ‡∏•‡∏≠‡∏á‡∏î‡∏∂‡∏á‡πÄ‡∏ü‡∏£‡∏°‡πÄ‡∏û‡∏¥‡πà‡∏° (Multi-Pass Extraction)
2. ‚úÖ **Smart Fallback**: ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏Ñ‡∏£‡∏ö ‚Üí ‡∏õ‡∏£‡∏±‡∏ö layout ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥!
   - ‡πÄ‡∏à‡∏≠ 1 ‡∏Ñ‡∏ô ‚Üí `solo_focus`
   - ‡πÄ‡∏à‡∏≠ 2 ‡∏Ñ‡∏ô ‚Üí `duo_focus`
   - ‡πÄ‡∏à‡∏≠ 3 ‡∏Ñ‡∏ô ‚Üí `tri_hero`
   - ‡πÄ‡∏à‡∏≠ 4 ‡∏Ñ‡∏ô ‚Üí `quad_grid`

3. ‚úÖ **100% ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡πÄ‡∏™‡∏°‡∏≠**:
   - ‡πÑ‡∏°‡πà‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß
   - ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ‡∏Ñ‡∏ô‡∏ã‡πâ‡∏≥
   - ‡πÑ‡∏î‡πâ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏°

### üìä ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô:
```
User: ‡∏Ç‡∏≠ 3 ‡∏Ñ‡∏ô (tri_hero)
  ‚Üì
‡∏£‡∏∞‡∏ö‡∏ö: ‡∏´‡∏≤‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å ‚Üí ‡πÄ‡∏à‡∏≠‡πÅ‡∏Ñ‡πà 2 ‡∏Ñ‡∏ô
  ‚Üì
‡∏£‡∏∞‡∏ö‡∏ö: Retry (‡∏î‡∏∂‡∏á‡πÄ‡∏ü‡∏£‡∏°‡πÄ‡∏û‡∏¥‡πà‡∏° pass 1) ‚Üí ‡∏¢‡∏±‡∏á‡πÄ‡∏à‡∏≠‡πÅ‡∏Ñ‡πà 2 ‡∏Ñ‡∏ô
  ‚Üì
‡∏£‡∏∞‡∏ö‡∏ö: Smart Fallback ‚Üí ‡∏õ‡∏£‡∏±‡∏ö‡πÄ‡∏õ‡πá‡∏ô duo_focus ‡πÅ‡∏ó‡∏ô ‚úÖ
  ‚Üì
‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå: ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! (‡πÅ‡∏à‡πâ‡∏á user ‡∏ß‡πà‡∏≤‡∏õ‡∏£‡∏±‡∏ö layout ‡πÅ‡∏•‡πâ‡∏ß)
```

### üéÅ ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ:
- ‚úÖ **‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô 100% ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à** - ‡∏™‡∏£‡πâ‡∏≤‡∏á thumbnail ‡πÑ‡∏î‡πâ‡πÄ‡∏™‡∏°‡∏≠
- ‚úÖ **‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ‡∏Ñ‡∏ô‡∏ã‡πâ‡∏≥** - ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏ô‡∏à‡∏£‡∏¥‡∏á
- ‚úÖ **‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡πÄ‡∏ß‡∏•‡∏≤** - ‡πÑ‡∏°‡πà retry ‡πÄ‡∏Å‡∏¥‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô
- ‚úÖ **UX ‡∏î‡∏µ‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°** - ‡πÅ‡∏à‡πâ‡∏á user ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•
- ‚úÖ **Layout ‡∏™‡∏ß‡∏¢** - ‡πÉ‡∏ä‡πâ layout ‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°‡∏Å‡∏±‡∏ö‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏ô

---

## üéØ Feature ‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤: Multi-Pass Frame Extraction (13 ‡∏û.‡∏¢. 2568 - 10:00)

### ‚úÖ ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤ "‡πÄ‡∏à‡∏≠‡πÑ‡∏°‡πà‡∏Ñ‡∏£‡∏ö X ‡∏Ñ‡∏ô"
**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ**:
1. ‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏° **Multi-Pass Extraction** ‡πÉ‡∏ô VideoExtractor
   - Pass 0 (‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å): Random offset
   - Pass 1 (retry 1): Systematic offset ‡∏ó‡∏µ‡πà 1/3 ‡∏Ç‡∏≠‡∏á interval
   - Pass 2 (retry 2): Systematic offset ‡∏ó‡∏µ‡πà 2/3 ‡∏Ç‡∏≠‡∏á interval

2. ‚úÖ ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó `main.py`:
   - ‡πÄ‡∏û‡∏¥‡πà‡∏° `pass_number=retry_count` ‡πÉ‡∏ô `extract_key_frames()`
   - ‡πÅ‡∏ï‡πà‡∏•‡∏∞ retry ‡∏î‡∏∂‡∏á‡πÄ‡∏ü‡∏£‡∏°‡∏à‡∏≤‡∏Å‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô

---

## üéØ Feature ‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤: Smart Frame Selection (13 ‡∏û.‡∏¢. 2568 - 09:30)

### ‚úÖ ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏ö‡∏ï‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏ô‡πÄ‡∏´‡∏ï‡∏∏‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!
**‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÄ‡∏î‡∏¥‡∏°**: VideoExtractor ‡∏î‡∏∂‡∏á‡πÄ‡∏ü‡∏£‡∏°‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡πÄ‡∏ä‡πá‡∏Ñ‡∏ï‡∏≤‡πÄ‡∏õ‡∏¥‡∏î/‡∏´‡∏•‡∏±‡∏ö ‚Üí ‡πÑ‡∏î‡πâ‡πÄ‡∏ü‡∏£‡∏°‡∏ó‡∏µ‡πà‡∏´‡∏•‡∏±‡∏ö‡∏ï‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤‡πÉ‡∏ô pipeline

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ**:
1. ‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏° **Smart Frame Selection** ‡πÉ‡∏ô VideoExtractor
   - ‡∏î‡∏∂‡∏á 7 ‡πÄ‡∏ü‡∏£‡∏°‡∏ï‡πà‡∏≠‡∏â‡∏≤‡∏Å (‡∏ó‡∏∏‡∏Å 0.5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ)
   - ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ó‡∏∏‡∏Å‡πÄ‡∏ü‡∏£‡∏°‡∏î‡πâ‡∏ß‡∏¢ InsightFace (‡∏ï‡∏£‡∏ß‡∏à‡∏´‡∏ô‡πâ‡∏≤ + ‡∏ï‡∏≤‡πÄ‡∏õ‡∏¥‡∏î)
   - ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å 1 ‡πÄ‡∏ü‡∏£‡∏°‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î (composite score)

2. ‚úÖ **Composite Scoring System**:
   - ‡∏ï‡∏≤‡πÄ‡∏õ‡∏¥‡∏î: 60% (‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î!)
   - Sharpness: 20%
   - Frontality (‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡∏£‡∏á): 15%
   - Face Size: 5%

3. ‚úÖ **Variance-based Eye Detection** (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ Gemini ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î):
   - Hard filter: variance < 1000 = ‡∏ï‡∏≤‡∏´‡∏•‡∏±‡∏ö‡πÅ‡∏ô‡πà‡∏ô‡∏≠‡∏ô
   - Threshold ‡πÄ‡∏Ç‡πâ‡∏°‡∏á‡∏ß‡∏î: ‡∏ï‡πâ‡∏≠‡∏á variance ‚â• 2000 ‡∏ñ‡∏∂‡∏á‡πÑ‡∏î‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏ï‡πá‡∏°
   - Brightness check: ‡∏ï‡∏≤‡πÄ‡∏õ‡∏¥‡∏î‡∏°‡∏µ pupil ‡∏™‡∏µ‡πÄ‡∏Ç‡πâ‡∏°
   - ‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥ ~85-90%

4. ‚úÖ **Smart Thresholds**:
   - `SMART_MIN_EYES_OPEN_SCORE = 0.75` (‡∏ï‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡∏¥‡∏î‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 75%)
   - `SMART_MIN_FRONTALITY_SCORE = 0.70` (‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏£‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 70%)
   - ‡∏Å‡∏£‡∏≠‡∏á‡πÄ‡∏ü‡∏£‡∏°‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô‡∏≠‡∏≠‡∏Å‡∏ó‡∏±‡∏ô‡∏ó‡∏µ

### üìä ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á:
- ‚úÖ ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏ö‡∏ï‡∏≤‡πÄ‡∏•‡∏¢ (‡∏´‡∏£‡∏∑‡∏≠‡∏ô‡πâ‡∏≠‡∏¢‡∏°‡∏≤‡∏Å < 5%)
- ‚úÖ ‡∏ó‡∏∏‡∏Å‡πÄ‡∏ü‡∏£‡∏°‡∏°‡∏µ‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡∏£‡∏á ‡∏Ñ‡∏°‡∏ä‡∏±‡∏î ‡∏ï‡∏≤‡πÄ‡∏õ‡∏¥‡∏î‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô
- ‚úÖ ‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡πÄ‡∏ß‡∏•‡∏≤ - ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡πÄ‡∏ß‡∏•‡∏≤‡∏Å‡∏£‡∏≠‡∏á‡πÄ‡∏ü‡∏£‡∏°‡∏´‡∏•‡∏±‡∏ö‡∏ï‡∏≤‡∏≠‡∏≠‡∏Å‡∏†‡∏≤‡∏¢‡∏´‡∏•‡∏±‡∏á
- ‚úÖ ‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡πÄ‡∏á‡∏¥‡∏ô - ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ Gemini API ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö video extraction

## üöÄ ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏£‡∏∞‡∏ö‡∏ö (13 ‡∏û.‡∏¢. 2568 - 09:30)
- ‚úÖ **Smart Frame Selection ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß** (`ENABLE_SMART_FRAME_SELECTION = True`)
- ‚úÖ ‡πÇ‡∏Ñ‡πâ‡∏î‡∏ú‡πà‡∏≤‡∏ô syntax check ‡πÅ‡∏•‡πâ‡∏ß (video_extractor.py, config.py)
- ‚úÖ InsightFace ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô (buffalo_l model)
- ‚ö†Ô∏è ‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏±‡∏ô server ‡πÉ‡∏´‡∏°‡πà‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏ö‡∏ö (Python 3.14 ‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ compatibility - ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏ä‡πâ Python 3.11)
- ‚úÖ Dependencies ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô (.venv ‡∏°‡∏µ InsightFace, OpenCV, sklearn, FastAPI ‡∏Ø‡∏•‡∏Ø)
- ‚úÖ ‡∏°‡∏µ AI Analyzer ‡∏û‡∏£‡πâ‡∏≠‡∏° ThumbnailValidator ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û thumbnail

## üì¶ ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏£‡∏∞‡∏ö‡∏ö
‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∑‡∏≠ **YouTube Thumbnail Generator** ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ AI ‡∏™‡∏£‡πâ‡∏≤‡∏á thumbnail ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥:

### ‡πÇ‡∏°‡∏î‡∏π‡∏•‡∏´‡∏•‡∏±‡∏Å (9 ‡πÇ‡∏°‡∏î‡∏π‡∏•)
1. **AIAnalyzer** - ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏î‡πâ‡∏ß‡∏¢ GPT-4o-mini (‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ OPENAI_API_KEY)
2. **Ingestor** - ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏à‡∏≤‡∏Å workspace/raw ‡∏´‡∏£‡∏∑‡∏≠‡∏î‡∏∂‡∏á‡∏à‡∏≤‡∏Å‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠
3. **VideoExtractor** - ‡∏î‡∏∂‡∏á key frames ‡∏à‡∏≤‡∏Å‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠ (scene detection)
4. **FaceService** - ‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡πÉ‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏î‡πâ‡∏ß‡∏¢ InsightFace + clustering (DBSCAN/HDBSCAN)
5. **Scorer** - ‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏†‡∏≤‡∏û (sharpness, contrast, lighting)
6. **PaletteExtractor** - ‡∏î‡∏∂‡∏á‡∏û‡∏≤‡πÄ‡∏•‡∏ï‡∏ï‡πå‡∏™‡∏µ‡∏î‡πâ‡∏ß‡∏¢ K-Means
7. **LayoutEngine** - ‡∏à‡∏±‡∏î layout (solo/duo/trio/quad)
8. **Renderer** - Composite ‡∏£‡∏π‡∏õ‡∏Ç‡∏±‡πâ‡∏ô‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢ + text styling
9. **Exporter** - Export ‡∏û‡∏£‡πâ‡∏≠‡∏° metadata JSON

### API Endpoints ‡∏ó‡∏µ‡πà‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç
- `GET /` - Web UI (‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏î‡∏™‡∏≠‡∏ö)
- `GET /docs` - Swagger API docs
- `POST /generate` - ‡∏™‡∏£‡πâ‡∏≤‡∏á thumbnail ‡∏à‡∏≤‡∏Å‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û
- `POST /generate-from-video` - ‡∏™‡∏£‡πâ‡∏≤‡∏á thumbnail ‡∏à‡∏≤‡∏Å‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠
- `POST /upload-video` - ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠‡πÅ‡∏•‡∏∞‡∏î‡∏∂‡∏á frames
- `GET /thumbnails` - ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ thumbnails
- `DELETE /thumbnail/{filename}` - ‡∏•‡∏ö thumbnail
- `POST /clear-workspace` - ‡∏•‡πâ‡∏≤‡∏á workspace

## üéØ ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡πÑ‡∏õ

### 1. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏ö‡∏ö
- [ ] ‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡πÑ‡∏õ‡∏ó‡∏µ‡πà http://localhost:8000 ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π Web UI
- [ ] ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠ (‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö .mp4, .avi, .mov, .mkv, .webm)
- [ ] ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏™‡∏£‡πâ‡∏≤‡∏á thumbnail ‡∏à‡∏≤‡∏Å‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û
- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÉ‡∏ô workspace/out/

### 2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Configuration
- [ ] ‡πÄ‡∏ä‡πá‡∏Ñ OPENAI_API_KEY ‡πÉ‡∏ô .env (‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ AI Analyzer)
- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ü‡∏≠‡∏ô‡∏ï‡πå‡πÑ‡∏ó‡∏¢‡πÉ‡∏ô assets/fonts/ (Kanit-Bold.ttf, Kanit-Regular.ttf)
- [ ] ‡∏õ‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡πÉ‡∏ô config.py ‡∏ï‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ (resolution, DBSCAN_EPS, font sizes)

### 3. ‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏ï‡πà‡∏≠ (Optional)
- [ ] ‡πÄ‡∏û‡∏¥‡πà‡∏° GPU support ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö FaceService (CUDA)
- [ ] ‡∏™‡∏£‡πâ‡∏≤‡∏á layout ‡πÅ‡∏ö‡∏ö‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏≠‡∏á
- [ ] ‡πÄ‡∏û‡∏¥‡πà‡∏° text styles ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°
- [ ] ‡πÄ‡∏û‡∏¥‡πà‡∏° unit tests ‡πÉ‡∏ô tests/

### 4. ‡∏Å‡∏≤‡∏£ Deploy (‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£)
- [ ] ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ production settings
- [ ] ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏° Dockerfile/docker-compose
- [ ] Setup reverse proxy (nginx)

## üîß ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏ö‡πà‡∏≠‡∏¢

```bash
# ‡∏£‡∏±‡∏ô server
source .venv/bin/activate
python main.py

# ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ shell script
./run.sh

# ‡πÄ‡∏ä‡πá‡∏Ñ health
curl http://localhost:8000/health

# ‡∏î‡∏π API docs
# ‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå: http://localhost:8000/docs

# ‡∏ó‡∏î‡∏™‡∏≠‡∏ö generate ‡∏à‡∏≤‡∏Å‡∏£‡∏π‡∏õ
curl -X POST "http://localhost:8000/generate" \
  -H "Content-Type: application/json" \
  -d '{
    "title": "‡∏ó‡∏î‡∏™‡∏≠‡∏ö Thumbnail",
    "subtitle": "EP.1",
    "num_characters": 2
  }'

# ‡∏ó‡∏î‡∏™‡∏≠‡∏ö generate ‡∏à‡∏≤‡∏Å‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠
curl -X POST "http://localhost:8000/generate-from-video" \
  -F "video=@video.mp4" \
  -F "title=‡∏ó‡∏î‡∏™‡∏≠‡∏ö" \
  -F "num_characters=3" \
  -F "num_frames=20"
```

## üìÇ ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç
```
yt01/
‚îú‚îÄ‚îÄ main.py              # FastAPI server (‡∏û‡∏≠‡∏£‡πå‡∏ï 8000)
‚îú‚îÄ‚îÄ config.py            # Settings (1280x720, fonts, DBSCAN eps=0.6)
‚îú‚îÄ‚îÄ .env                 # Environment variables (OPENAI_API_KEY)
‚îú‚îÄ‚îÄ requirements.txt     # Dependencies
‚îú‚îÄ‚îÄ modules/             # 9 modules + ThumbnailValidator
‚îú‚îÄ‚îÄ utils/              # Helper functions
‚îú‚îÄ‚îÄ workspace/
‚îÇ   ‚îú‚îÄ‚îÄ raw/            # Input images/frames
‚îÇ   ‚îú‚îÄ‚îÄ temp/           # Temporary files
‚îÇ   ‚îú‚îÄ‚îÄ out/            # Output thumbnails
‚îÇ   ‚îî‚îÄ‚îÄ videos/         # Uploaded videos
‚îú‚îÄ‚îÄ assets/fonts/       # Thai fonts (Kanit)
‚îî‚îÄ‚îÄ logs/app.log        # Application logs
```

## ‚ö° Quick Start
1. ‚úÖ Server ‡∏£‡∏±‡∏ô‡πÅ‡∏•‡πâ‡∏ß - ‡πÄ‡∏õ‡∏¥‡∏î http://localhost:8000
2. ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏ú‡πà‡∏≤‡∏ô Web UI
3. ‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠ + ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£ (1-4 ‡∏Ñ‡∏ô)
4. ‡∏Å‡∏î‡∏™‡∏£‡πâ‡∏≤‡∏á thumbnail
5. ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏à‡∏≤‡∏Å workspace/out/

## üêõ Troubleshooting
- **‡πÑ‡∏°‡πà‡∏û‡∏ö‡πÉ‡∏ö‡∏´‡∏ô‡πâ‡∏≤**: ‡∏•‡∏î FACE_CONFIDENCE_THRESHOLD ‡πÉ‡∏ô config.py
- **Clustering ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ú‡∏•**: ‡∏õ‡∏£‡∏±‡∏ö DBSCAN_EPS (0.3-0.6) ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ HDBSCAN
- **‡∏ü‡∏≠‡∏ô‡∏ï‡πå‡πÑ‡∏ó‡∏¢‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏î‡∏á**: ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤‡∏ü‡∏≠‡∏ô‡∏ï‡πå‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô assets/fonts/
- **Out of Memory**: ‡∏•‡∏î‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏£‡∏π‡∏õ‡πÉ‡∏ô raw/ ‡∏´‡∏£‡∏∑‡∏≠‡∏õ‡∏£‡∏±‡∏ö MAX_IMAGE_SIZE

## üìù Log Files
- `logs/app.log` - Application logs (rotation 500MB, ‡πÄ‡∏Å‡πá‡∏ö 10 ‡∏ß‡∏±‡∏ô)
- ‡∏î‡∏π log ‡πÅ‡∏ö‡∏ö real-time: `tail -f logs/app.log`

---
**‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î**: 2025-11-13 07:30 +07
**Status**: üü¢ Running (http://localhost:8000)
**Next**: ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏™‡∏£‡πâ‡∏≤‡∏á thumbnail ‡∏ú‡πà‡∏≤‡∏ô Web UI

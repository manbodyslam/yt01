# YouTube Thumbnail Generator

‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏£‡πâ‡∏≤‡∏á YouTube Thumbnail ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏î‡πâ‡∏ß‡∏¢ AI - ‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡πÉ‡∏ö‡∏´‡∏ô‡πâ‡∏≤, ‡∏à‡∏±‡∏î‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£, ‡πÅ‡∏•‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á thumbnail ‡∏ó‡∏µ‡πà‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏°‡πÅ‡∏ö‡∏ö‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

## ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥‡∏´‡∏•‡∏±‡∏Å

### üéØ 8 ‡πÇ‡∏°‡∏î‡∏π‡∏•‡∏´‡∏•‡∏±‡∏Å

1. **Ingestor** - ‡πÇ‡∏´‡∏•‡∏î‡πÅ‡∏•‡∏∞‡∏Å‡∏£‡∏≠‡∏á‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏à‡∏≤‡∏Å local folder **‡∏´‡∏£‡∏∑‡∏≠‡∏î‡∏∂‡∏á‡∏à‡∏≤‡∏Å‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠**
   - ‡∏Å‡∏£‡∏≠‡∏á‡∏ï‡∏≤‡∏°‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•: `.jpg`, `.jpeg`, `.png`, `.webp`
   - ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠: `.mp4`, `.avi`, `.mov`, `.mkv`, `.webm`
   - ‡∏Ç‡πâ‡∏≤‡∏°‡∏†‡∏≤‡∏û‡∏ó‡∏µ‡πà‡πÄ‡∏•‡πá‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 640px (‡∏î‡πâ‡∏≤‡∏ô‡∏™‡∏±‡πâ‡∏ô)

2. **Face Service** - ‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡πÉ‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£
   - ‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡πÉ‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏î‡πâ‡∏ß‡∏¢ **InsightFace**
   - ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì face embedding
   - Clustering ‡∏î‡πâ‡∏ß‡∏¢ **DBSCAN/HDBSCAN**
   - ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏´‡∏•‡∏±‡∏Å‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡∏ß‡∏£‡∏≠‡∏á‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

3. **Scorer** - ‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏†‡∏≤‡∏û
   - ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏°‡∏ä‡∏±‡∏î (Sharpness)
   - Contrast ‡πÅ‡∏•‡∏∞ Brightness
   - ‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡∏†‡∏≤‡∏û‡πÄ‡∏ö‡∏•‡∏≠
   - ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏†‡∏≤‡∏û‡∏ê‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î

4. **Palette & Mood** - ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏™‡∏µ‡πÅ‡∏•‡∏∞‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå
   - ‡∏î‡∏∂‡∏á‡∏û‡∏≤‡πÄ‡∏•‡∏ï‡∏ï‡πå‡∏™‡∏µ‡∏´‡∏•‡∏±‡∏Å‡∏î‡πâ‡∏ß‡∏¢ K-Means
   - ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏µ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö text/background ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
   - ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå mood (warm, cool, vibrant, etc.)

5. **Layout Engine** - ‡∏à‡∏±‡∏î‡∏ß‡∏≤‡∏á‡∏≠‡∏á‡∏Ñ‡πå‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö
   - **Solo Focus** (1 ‡∏Ñ‡∏ô)
   - **Duo Focus** (2 ‡∏Ñ‡∏ô)
   - **Tri-Hero** (3 ‡∏Ñ‡∏ô)
   - **Quad Lineup** (4 ‡∏Ñ‡∏ô)

6. **Renderer** - Composite ‡∏†‡∏≤‡∏û‡∏Ç‡∏±‡πâ‡∏ô‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢
   - ‡πÄ‡∏ö‡∏•‡∏≠‡∏â‡∏≤‡∏Å‡∏´‡∏•‡∏±‡∏á‡πÅ‡∏ö‡∏ö cinematic
   - ‡∏ï‡∏±‡∏î‡πÅ‡∏•‡∏∞‡∏ß‡∏≤‡∏á‡πÉ‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡∏≤‡∏° layout
   - ‡πÄ‡∏û‡∏¥‡πà‡∏° halo/shadow ‡∏£‡∏≠‡∏ö‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£
   - ‡∏ß‡∏≤‡∏î‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏£‡πâ‡∏≠‡∏° stroke

7. **Exporter** - ‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå
   - ‡∏ï‡∏±‡πâ‡∏á‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏ü‡∏•‡πå: `TITLE__YYYYMMDD__v001.jpg`
   - ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ version ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
   - ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å metadata ‡πÄ‡∏õ‡πá‡∏ô JSON

8. **VideoExtractor** - ‡∏î‡∏∂‡∏á frames ‡∏à‡∏≤‡∏Å‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠ (‡πÉ‡∏´‡∏°‡πà! üé¨)
   - ‡∏î‡∏∂‡∏á key frames ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ (scene detection)
   - ‡∏Å‡∏£‡∏≠‡∏á‡∏†‡∏≤‡∏û‡πÄ‡∏ö‡∏•‡∏≠‡πÅ‡∏•‡∏∞‡∏†‡∏≤‡∏û‡∏ã‡πâ‡∏≥
   - ‡∏õ‡∏£‡∏±‡∏ö‡∏à‡∏≥‡∏ô‡∏ß‡∏ô frames ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
   - ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏´‡∏•‡∏≤‡∏¢‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠

## ‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á

### System Requirements

- Python 3.9+
- (Optional) GPU with CUDA support ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö face detection ‡∏ó‡∏µ‡πà‡πÄ‡∏£‡πá‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á

1. **Clone repository**
```bash
cd yt01
```

2. **‡∏™‡∏£‡πâ‡∏≤‡∏á virtual environment**
```bash
python -m venv venv
source venv/bin/activate  # Linux/Mac
# ‡∏´‡∏£‡∏∑‡∏≠
venv\Scripts\activate  # Windows
```

3. **‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á dependencies**
```bash
pip install -r requirements.txt
```

4. **‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î InsightFace models**

InsightFace ‡∏à‡∏∞‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î model ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å ‡∏´‡∏£‡∏∑‡∏≠‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏≠‡∏á‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å:
```bash
# Model ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏õ‡∏ó‡∏µ‡πà ~/.insightface/models/
```

5. **‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏ü‡∏≠‡∏ô‡∏ï‡πå‡πÑ‡∏ó‡∏¢** (Optional)

‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡∏ü‡∏≠‡∏ô‡∏ï‡πå‡πÑ‡∏ó‡∏¢ ‡πÄ‡∏ä‡πà‡∏ô Kanit, Sarabun, THSarabunNew ‡πÅ‡∏•‡∏∞‡∏ß‡∏≤‡∏á‡πÑ‡∏ß‡πâ‡πÉ‡∏ô `assets/fonts/`

```bash
# ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á
cd assets/fonts
wget https://github.com/cadsondemak/Kanit/raw/master/fonts/ttf/Kanit-Bold.ttf
wget https://github.com/cadsondemak/Kanit/raw/master/fonts/ttf/Kanit-Regular.ttf
```

## ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

### ‚ö° ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 1: ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ú‡πà‡∏≤‡∏ô Web UI (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥!)

1. **‡∏£‡∏±‡∏ô Server**
```bash
python main.py
```

2. **‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå**
```
http://localhost:8000
```

3. **‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏´‡∏°‡∏î:**
   - **üìπ ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠** - ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á thumbnail
   - **üñºÔ∏è ‡πÉ‡∏ä‡πâ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û** - ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏´‡∏•‡∏≤‡∏¢‡∏£‡∏π‡∏õ
   - **üé® ‡∏î‡∏π Thumbnails** - ‡∏î‡∏π gallery ‡∏Ç‡∏≠‡∏á thumbnails ‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏•‡πâ‡∏ß

4. **‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:**
   - ‡∏ä‡∏∑‡πà‡∏≠ Thumbnail
   - ‡∏Ñ‡∏≥‡∏ö‡∏£‡∏£‡∏¢‡∏≤‡∏¢‡∏£‡∏≠‡∏á (‡πÑ‡∏°‡πà‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö)
   - ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£ (1-4 ‡∏Ñ‡∏ô)
   - ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô frames (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠)

5. **‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡∏™‡∏£‡πâ‡∏≤‡∏á** ‡πÅ‡∏•‡∏∞‡∏£‡∏≠‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå!

### üîß ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 2: ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ú‡πà‡∏≤‡∏ô API

#### A. ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏à‡∏≤‡∏Å‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠ (‡πÉ‡∏´‡∏°‡πà!)

```bash
curl -X POST "http://localhost:8000/generate-from-video" \
  -F "video=@/path/to/video.mp4" \
  -F "title=‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏™‡∏∏‡∏î‡∏Æ‡∏≤ EP.1" \
  -F "subtitle=‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1" \
  -F "num_characters=3" \
  -F "num_frames=20"
```

#### B. ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏à‡∏≤‡∏Å‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û

1. **‡∏ß‡∏≤‡∏á‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÉ‡∏ô workspace/raw/**
```bash
cp /path/to/your/images/* workspace/raw/
```

2. **‡πÄ‡∏£‡∏µ‡∏¢‡∏Å API**
```bash
curl -X POST "http://localhost:8000/generate" \
  -H "Content-Type: application/json" \
  -d '{
    "title": "‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏£‡∏≤‡∏ß‡∏™‡∏∏‡∏î‡∏Æ‡∏≤! ‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1",
    "subtitle": "EP.1 - ‡∏Å‡∏≤‡∏£‡∏ú‡∏à‡∏ç‡∏†‡∏±‡∏¢‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô",
    "num_characters": 3
  }'
```

### üìö API Documentation

‡πÄ‡∏Ç‡πâ‡∏≤ http://localhost:8000/docs ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π Swagger UI Documentation

### ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á Response

```json
{
  "success": true,
  "thumbnail_path": "workspace/out/‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏£‡∏≤‡∏ß‡∏™‡∏∏‡∏î‡∏Æ‡∏≤_‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà_1__20251110__v001.jpg",
  "filename": "‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏£‡∏≤‡∏ß‡∏™‡∏∏‡∏î‡∏Æ‡∏≤_‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà_1__20251110__v001.jpg",
  "metadata": {
    "title": "‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏£‡∏≤‡∏ß‡∏™‡∏∏‡∏î‡∏Æ‡∏≤! ‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1",
    "num_characters": 3,
    "layout_type": "tri_hero",
    "background_image": "IMG_1234.jpg",
    "palette": [[255, 200, 100], [50, 100, 200], ...],
    "mood": "warm_vibrant"
  }
}
```

## API Endpoints

| Method | Endpoint | Description |
|--------|----------|-------------|
| `GET` | `/` | **Web UI** - ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö |
| `GET` | `/docs` | **Swagger UI** - API documentation |
| `GET` | `/health` | Health check |
| `POST` | `/generate` | ‡∏™‡∏£‡πâ‡∏≤‡∏á thumbnail ‡∏à‡∏≤‡∏Å‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û |
| `POST` | `/generate-from-video` | **‡∏™‡∏£‡πâ‡∏≤‡∏á thumbnail ‡∏à‡∏≤‡∏Å‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠** üé¨ |
| `POST` | `/upload-video` | ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠‡πÅ‡∏•‡∏∞‡∏î‡∏∂‡∏á frames |
| `GET` | `/thumbnails` | ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ thumbnails |
| `GET` | `/thumbnail/{filename}` | ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î thumbnail |
| `DELETE` | `/thumbnail/{filename}` | ‡∏•‡∏ö thumbnail |
| `POST` | `/clear-workspace` | ‡∏•‡πâ‡∏≤‡∏á workspace |

## ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå

```
yt01/
‚îú‚îÄ‚îÄ main.py                 # FastAPI application
‚îú‚îÄ‚îÄ config.py               # Configuration
‚îú‚îÄ‚îÄ requirements.txt        # Dependencies
‚îú‚îÄ‚îÄ README.md              # Documentation
‚îú‚îÄ‚îÄ workspace/
‚îÇ   ‚îú‚îÄ‚îÄ raw/               # Input images (‡∏ß‡∏≤‡∏á‡∏£‡∏π‡∏õ‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà)
‚îÇ   ‚îú‚îÄ‚îÄ temp/              # Temporary files
‚îÇ   ‚îî‚îÄ‚îÄ out/               # Output thumbnails
‚îú‚îÄ‚îÄ modules/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ ingestor.py        # Image loading & filtering
‚îÇ   ‚îú‚îÄ‚îÄ face_service.py    # Face detection & clustering
‚îÇ   ‚îú‚îÄ‚îÄ scorer.py          # Image quality scoring
‚îÇ   ‚îú‚îÄ‚îÄ palette.py         # Color extraction
‚îÇ   ‚îú‚îÄ‚îÄ layout.py          # Layout engine
‚îÇ   ‚îú‚îÄ‚îÄ renderer.py        # Image rendering
‚îÇ   ‚îî‚îÄ‚îÄ exporter.py        # File export
‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ image_utils.py     # Image utilities
‚îÇ   ‚îî‚îÄ‚îÄ face_utils.py      # Face utilities
‚îú‚îÄ‚îÄ assets/
‚îÇ   ‚îî‚îÄ‚îÄ fonts/             # Thai fonts
‚îî‚îÄ‚îÄ logs/                  # Application logs
```

## Configuration

‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ñ‡πà‡∏≤‡∏ï‡πà‡∏≤‡∏á ‡πÜ ‡πÉ‡∏ô `config.py`:

```python
# Output settings
OUTPUT_WIDTH = 1280
OUTPUT_HEIGHT = 720
OUTPUT_QUALITY = 95

# Face detection
FACE_CONFIDENCE_THRESHOLD = 0.5
MIN_FACE_SIZE = 80

# Clustering
CLUSTERING_ALGORITHM = "DBSCAN"  # or "HDBSCAN"
DBSCAN_EPS = 0.4

# Text settings
TITLE_FONT_SIZE = 72
SUBTITLE_FONT_SIZE = 36
TEXT_STROKE_WIDTH = 8
```

## ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå

### Layout ‡πÅ‡∏ö‡∏ö‡∏ï‡πà‡∏≤‡∏á ‡πÜ

**Tri-Hero Layout (3 ‡∏Ñ‡∏ô)**
- ‡∏ï‡∏±‡∏ß‡∏´‡∏•‡∏±‡∏Å‡∏ï‡∏£‡∏á‡∏Å‡∏•‡∏≤‡∏á (‡πÉ‡∏´‡∏ç‡πà‡∏™‡∏∏‡∏î)
- ‡∏ï‡∏±‡∏ß‡∏£‡∏≠‡∏á‡∏ã‡πâ‡∏≤‡∏¢-‡∏Ç‡∏ß‡∏≤ (‡πÄ‡∏•‡πá‡∏Å‡∏•‡∏á 20%)

**Duo Focus (2 ‡∏Ñ‡∏ô)**
- ‡∏ï‡∏±‡∏ß‡∏´‡∏•‡∏±‡∏Å‡∏î‡πâ‡∏≤‡∏ô‡∏Ç‡∏ß‡∏≤ (‡πÉ‡∏´‡∏ç‡πà)
- ‡∏ï‡∏±‡∏ß‡∏£‡∏≠‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏ã‡πâ‡∏≤‡∏¢ (‡πÄ‡∏•‡πá‡∏Å‡∏•‡∏á 25%)

**Quad Lineup (4 ‡∏Ñ‡∏ô)**
- ‡∏ï‡∏±‡∏ß‡∏´‡∏•‡∏±‡∏Å‡∏Å‡∏•‡∏≤‡∏á + ‡∏ï‡∏±‡∏ß‡∏£‡∏≠‡∏á 3 ‡∏Ñ‡∏ô‡∏£‡∏≠‡∏ö ‡πÜ

## Troubleshooting

### ‡πÑ‡∏°‡πà‡∏û‡∏ö‡πÉ‡∏ö‡∏´‡∏ô‡πâ‡∏≤
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏°‡∏µ‡πÉ‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏ä‡∏±‡∏î‡∏û‡∏≠
- ‡∏•‡∏î‡∏Ñ‡πà‡∏≤ `FACE_CONFIDENCE_THRESHOLD` ‡πÉ‡∏ô config.py

### Clustering ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ú‡∏•
- ‡∏õ‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤ `DBSCAN_EPS` (‡∏•‡∏≠‡∏á‡∏Ñ‡πà‡∏≤ 0.3-0.6)
- ‡∏•‡∏≠‡∏á‡πÉ‡∏ä‡πâ HDBSCAN ‡πÅ‡∏ó‡∏ô DBSCAN

### ‡∏ü‡∏≠‡∏ô‡∏ï‡πå‡πÑ‡∏ó‡∏¢‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏î‡∏á
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏ß‡∏≤‡∏á‡∏ü‡∏≠‡∏ô‡∏ï‡πå‡πÉ‡∏ô‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå `assets/fonts/`
- ‡πÅ‡∏Å‡πâ‡∏ä‡∏∑‡πà‡∏≠‡∏ü‡∏≠‡∏ô‡∏ï‡πå‡πÉ‡∏ô `config.py` ‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡πÑ‡∏ü‡∏•‡πå

### Out of Memory
- ‡∏•‡∏î‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÉ‡∏ô `workspace/raw/`
- ‡∏õ‡∏£‡∏±‡∏ö `MAX_IMAGE_SIZE` ‡πÉ‡∏´‡πâ‡πÄ‡∏•‡πá‡∏Å‡∏•‡∏á

## Advanced Usage

### ‡πÉ‡∏ä‡πâ GPU (CUDA)

‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç `modules/face_service.py`:

```python
self.model = FaceAnalysis(
    name=settings.FACE_DETECTION_MODEL,
    providers=['CUDAExecutionProvider']  # ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å CPU
)
self.model.prepare(ctx_id=0, det_size=(640, 640))
```

### Custom Layout

‡∏™‡∏£‡πâ‡∏≤‡∏á layout ‡πÅ‡∏ö‡∏ö‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏≠‡∏á‡πÉ‡∏ô `modules/layout.py`:

```python
def _layout_custom(self, characters: Dict) -> List[CharacterPlacement]:
    # Custom layout logic
    pass
```

## License

MIT License

## Contributing

Pull requests are welcome!

## Support

‡∏´‡∏≤‡∏Å‡∏û‡∏ö‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡∏°‡∏µ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°:
- ‡πÄ‡∏õ‡∏¥‡∏î issue ‡πÉ‡∏ô GitHub
- ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏ó‡∏µ‡∏°‡∏û‡∏±‡∏í‡∏ô‡∏≤

---

**Built with ‚ù§Ô∏è using Python, FastAPI, InsightFace, and OpenCV**
